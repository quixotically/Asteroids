<html>
  <head>
    <title>Asteroids 2P</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <link href="application.css" rel="stylesheet"/>
  </head>
  <body>
    <canvas id="game-canvas"></canvas>
    <script src="lib/movingObject.js"></script>
    <script src="lib/utils.js"></script>
    <script src="lib/asteroid.js"></script>
    <script src="lib/game.js"></script>
    <script src="lib/gameView.js"></script>
    <script src="lib/ship.js"></script>
    <script src="lib/keymaster.js"></script>
    <script src="lib/bullet.js"></script>
    <script src="lib/stardust.js"></script>
    <section class="start-screen">
      <h1>Asteroids 2P</h1>
      <h3>P1 Controls:</h3>
      <ul class="controls">
        <li>W = forward</li>
        <li>A = turn left</li>
        <li>D = turn right</li>
        <li>space = fire</li>
      </ul>
      <h3>P2 Controls:</h3>
      <ul class="controls">
        <li>up = forward</li>
        <li>left = turn left</li>
        <li>right = turn right</li>
        <li>enter = fire</li>
      </ul>
      <button class="start">Play</button>
    </section>
    <section class="game-over-screen hidden">
      <h1 class="score1">P1 score was: </h1>
      <h1 class="score2">P2 score was: </h1>
      <button class="restart">Play Again</button>
    </section>
    <script>
      var canvasEl = document.getElementsByTagName("canvas")[0];
      var game = new Asteroids.Game();
      $("#game-canvas").attr("width", Asteroids.DIM_X);
      $("#game-canvas").attr("height", Asteroids.DIM_Y);
      var ctx = canvasEl.getContext("2d");

      $('.start').on('click', function (event) {
        event.preventDefault();
        $(".start-screen").addClass("hidden");
        Asteroids.currentGameView = new Asteroids.GameView(game, ctx);
        Asteroids.currentGameView.start();
      });

      $('.restart').on('click', function (event) {
        event.preventDefault();
        delete Asteroids.currentGameView;
        $(".game-over-screen").addClass("hidden");
        game = new Asteroids.Game();
        Asteroids.currentGameView = new Asteroids.GameView(game, ctx);
        Asteroids.currentGameView.start();
      });
    </script>
  </body>
</html>
